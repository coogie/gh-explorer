(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,a){e.exports=a.p+"static/media/logo.317e1160.svg"},142:function(e,t,a){e.exports=a(291)},166:function(e,t,a){},285:function(e,t,a){},289:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),o=a.n(c),s=a(46),u=a(36),i=a(126),l=a(14),m=a(29),p=a(31),E=a(21),h=a(30),_=a(138),b=a(53),f=a(100),S=function(e){var t,a=Object(f.upperCase)(e);return t={},Object(b.a)(t,a,a),Object(b.a)(t,Object(f.camelCase)(e),function(e){return{type:a,payload:e}}),t},g=function(e){return Object(l.a)({},S("".concat(e,"_REQUEST")),S("".concat(e,"_RESPONSE")),S("".concat(e,"_ERROR")))},d=function(e){function t(e){var a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n>1?n-1:0),c=1;c<n;c++)r[c-1]=arguments[c];return a=Object(p.a)(this,Object(E.a)(t).call(this,r)),console.log(e),a.message="HTTP status code: ".concat(e.status),a.status=e.status,a.response=e,a}return Object(h.a)(t,e),t}(Object(_.a)(Error));var O={General:function(e){return"https://api.github.com/search/repositories?q=".concat(e)},Specific:function(e){return"https://api.github.com/repos/".concat(e)}},R=Object(l.a)({},g("SEARCH_GENERAL"),g("SEARCH_SPECIFIC")),v=Object(l.a)({CHANGE_SEARCH_INPUT:"CHANGE_SEARCH_INPUT",changeSearchInput:function(e){return{type:"CHANGE_SEARCH_INPUT",payload:e}},SUBMIT_SEARCH:"SUBMIT_SEARCH",submitSearch:function(e){return function(t){var a=e.indexOf("/")>0?"Specific":"General",n=function(e){var n={General:e.items,Specific:e};return t(R["search".concat(a,"Response")](n[a]))};return t(R["search".concat(a,"Request")]()),function(){return fetch.apply(null,arguments).then(function(e){if(!e.ok)throw new d(e);return e})}(O[a](e)).then(function(e){return e.json().then(n)},function(e){console.log(e);var n=404===e.status?"Repo not found":e.message;t(R["search".concat(a,"Error")](n))})}}},R),j={userInput:"",isLoading:!1,alert:{isVisible:!1,message:null}},C=function(e){var t=e.name,a=e.html_url,n=e.description,r=e.updated_at,c=e.homepage,o=e.stargazers_count,s=e.subscribers_count,u=void 0===s?null:s,i=e.forks_count,l=e.owner,m=e.score;return{name:t,html_url:a,description:n,updated_at:r,homepage:c,stargazers_count:o,subscribers_count:u,forks_count:i,owner:{login:l.login,avatar_url:l.avatar_url,html_url:l.html_url},score:m}},A=Object(u.c)({searchForm:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,a=arguments.length>1?arguments[1]:void 0,n=a.type,r=a.payload;switch(n){case v.CHANGE_SEARCH_INPUT:e=Object(l.a)({},t,{userInput:r});break;case v.SEARCH_GENERAL_REQUEST:case v.SEARCH_SPECIFIC_REQUEST:e=Object(l.a)({},t,{alert:Object(l.a)({},j.alert),isLoading:!0});break;case v.SEARCH_GENERAL_RESPONSE:case v.SEARCH_SPECIFIC_RESPONSE:e=Object(l.a)({},t,{isLoading:!1});break;case v.SEARCH_GENERAL_ERROR:case v.SEARCH_SPECIFIC_ERROR:e=Object(l.a)({},t,{isLoading:!1,alert:Object(l.a)({},t.alert,{isVisible:!0,message:r})});break;default:e=Object(l.a)({},t)}return e},searchResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v.SEARCH_GENERAL_RESPONSE:return n.map(C).sort(function(e,t){return t.score-e.score});case v.SEARCH_SPECIFIC_RESPONSE:return[C(n)];default:return e}}}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,I=Object(u.e)(A,N(Object(u.a)(i.a))),y=a(44),w=a(295),H=a(297),P=a(296),L=a(292),k=(a(166),w.a.Item),F=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).submit=function(e){var t=a.props,n=t.userInput,r=t.onSubmit;e.preventDefault(),r(n)},a}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userInput,a=e.isLoading,n=e.onChange,c=e.alert;return r.a.createElement("div",{className:"SearchForm o-container"},c.isVisible&&r.a.createElement(H.a,{className:"SearchForm__alert",message:c.message,showIcon:!0}),r.a.createElement(w.a,{className:"SearchForm__form",layout:"inline",onSubmit:this.submit},r.a.createElement(k,null,r.a.createElement(P.a,{className:"SearchForm__input",placeholder:"Search repositories",value:t,onChange:n})),r.a.createElement(k,null,r.a.createElement(L.a,{className:"SearchForm__button",type:"primary",loading:a,onClick:this.submit},"Search"))))}}]),t}(n.PureComponent);F.defaultProps={userInput:null,isLoading:!1};var G=Object(s.b)(function(e,t){return Object(l.a)({},e.searchForm)},function(e,t){return{onChange:function(t){return e(v.changeSearchInput(t.target.value))},onSubmit:function(t){return e(v.submitSearch(t))}}})(F),T=a(294),U=a(13),x=a(293),M=T.a.Item,B=M.Meta,V=function(e){var t=e.type,a=e.text;return r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{type:t,style:{marginRight:8}}),a.toLocaleString("en-GB"))},z=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).renderActions=function(e){var t=[r.a.createElement(V,{type:"star-o",text:e.stargazers_count}),r.a.createElement(V,{type:"fork",text:e.forks_count})];return e.subscribers_count&&t.push(r.a.createElement(V,{type:"eye",text:e.subscribers_count})),t},a}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isLoading,c=t.results,o=c.length>0?"Showing ".concat(c.length," results"):null;return r.a.createElement(n.Fragment,null,r.a.createElement(T.a,{className:"SearchResults__list",header:o,loading:a,itemLayout:"vertical",dataSource:c,renderItem:function(t){return r.a.createElement(M,{className:"SearchResults__item",actions:e.renderActions(t)},r.a.createElement(B,{className:"SearchResults__meta",avatar:r.a.createElement(x.a,{src:t.owner.avatar_url}),title:r.a.createElement("a",{href:t.html_url,rel:"noopener"},t.name," ",r.a.createElement("small",null,"(",t.owner.login,")"))}),t.description)}}))}}]),t}(n.PureComponent);z.defaultProps={isLoading:!1};var D=Object(s.b)(function(e){return{isLoading:e.searchForm.isLoading,results:e.searchResults}})(z),Q=a(137),q=a.n(Q),J=(a(285),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App__header"},r.a.createElement("img",{src:q.a,className:"App__logo",alt:"logo"}),r.a.createElement(G,null)),r.a.createElement("main",{className:"App__main"},r.a.createElement(D,null)),r.a.createElement("footer",{className:"App__footer"},r.a.createElement("p",null,"Simple application for searching repositories via Github API."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/coogie/gh-explorer"},"Source available on Github")," ","under MIT licence")))}}]),t}(n.Component));a(287),a(289);o.a.render(r.a.createElement(s.a,{store:I},r.a.createElement(J,null)),document.getElementById("root"))}},[[142,2,1]]]);
//# sourceMappingURL=main.6223beeb.chunk.js.map